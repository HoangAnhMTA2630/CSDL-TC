{
  "gitSyncId": "682d4d2a92cca105dbc17693_eb2a86fe-5339-43d6-acaa-26c81ec7932a",
  "id": "Kế hoạch - Báo cáo_SelectQueryBC_v1",
  "pluginId": "postgres-plugin",
  "pluginType": "DB",
  "unpublishedAction": {
    "actionConfiguration": {
      "body": "SELECT DISTINCT \n  bc.*, \n  cbc.ten_cap AS cap_bao_cao,\n  lbc.ten_loai_bao_cao AS loai_bao_cao\nFROM public.\"bao_cao\" bc\nJOIN public.\"ke_hoach_bao_cao\" khbc ON bc.\"id\" = khbc.\"bao_cao_id\"\nJOIN public.\"ke_hoach\" kh ON khbc.\"ke_hoach_id\" = kh.\"id\"\nLEFT JOIN public.\"cap\" cbc ON bc.\"cap_bao_cao_id\" = cbc.\"id\"\nLEFT JOIN public.\"loai_bao_cao\" lbc ON bc.\"loai_bao_cao_id\" = lbc.\"id\"\nWHERE bc.\"so_bao_cao\" ILIKE '%{{data_tableBC.searchText || \"\"}}%'\n  AND (\n    ({{ data_table_KH.selectedRows.length > 0 }} AND kh.\"id\" = ANY (\n      ARRAY[{{ data_table_KH.selectedRows.map(row => row.id).join(',') }}]::integer[]\n    ))\n    OR ({{ data_table_KH.selectedRows.length === 0 && !!appsmith.store.IDBoKH }} AND kh.\"bo_ke_hoach_id\" = {{ appsmith.store.IDBoKH }})\n    OR ({{ data_table_KH.selectedRows.length === 0 && !appsmith.store.IDBoKH }})\n  )\nORDER BY \"{{data_tableBC.sortOrder.column || 'id'}}\" {{data_tableBC.sortOrder.order || 'ASC'}}\n",
      "encodeParamsToggle": true,
      "paginationType": "NONE",
      "pluginSpecifiedTemplates": [
        {
          "value": false
        }
      ],
      "timeoutInMillisecond": 10000
    },
    "confirmBeforeExecute": false,
    "datasource": {
      "id": "csdltc",
      "isAutoGenerated": false,
      "name": "csdltc",
      "pluginId": "postgres-plugin"
    },
    "dynamicBindingPathList": [
      {
        "key": "body"
      }
    ],
    "executeOnLoad": true,
    "name": "SelectQueryBC_v1",
    "pageId": "Kế hoạch - Báo cáo",
    "userSetOnLoad": true
  }
}